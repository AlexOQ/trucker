---
spec: score-context
created: 2026-01-22
---

# Progress: Score Context Display

## Status

- [x] Research complete
- [x] Requirements defined
- [x] Design documented
- [x] Tasks generated
- [ ] Implementation in progress

## Learnings

- Rank is trivially derived: `calculateCityRankings()` returns sorted array, rank = index + 1
- No backend changes needed - pure frontend enhancement
- Score calculation: `Math.sqrt(jobs * value)` geometric mean
- Existing tooltip system uses `data-tooltip` attr + `.tooltip` class
- Mobile responsive CSS hides columns 1,3,4,5,7 - need to ensure rank column visible
- City detail view uses stat box pattern: `.stat`, `.stat-value`, `.stat-label`
- Rankings cached in module-level var, recalculated on slider change
